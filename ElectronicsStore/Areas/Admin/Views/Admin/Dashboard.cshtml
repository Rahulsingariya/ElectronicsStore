@model IEnumerable<ElectronicsStore.Models.Order>

@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="bi bi-speedometer2"></i> Admin Dashboard</h2>
        <div>
            <a href="/" class="btn btn-outline-primary me-2">
                <i class="bi bi-arrow-left"></i> Back to Store
            </a>
            <a href="/Account/Logout" class="btn btn-danger">
                <i class="bi bi-box-arrow-right"></i> Logout
            </a>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="card text-white shadow h-100" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <div class="card-body">
                    <h6 class="text-uppercase mb-1">TOTAL PRODUCTS</h6>
                    <h2 class="mb-0 fw-bold">@ViewBag.TotalProducts</h2>
                    <i class="bi bi-box-seam position-absolute" style="font-size: 3rem; opacity: 0.3; right: 20px; top: 20px;"></i>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card text-white shadow h-100" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                <div class="card-body">
                    <h6 class="text-uppercase mb-1">TOTAL ORDERS</h6>
                    <h2 class="mb-0 fw-bold">@ViewBag.TotalOrders</h2>
                    <i class="bi bi-cart-check position-absolute" style="font-size: 3rem; opacity: 0.3; right: 20px; top: 20px;"></i>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card text-white shadow h-100" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                <div class="card-body">
                    <h6 class="text-uppercase mb-1">PENDING ORDERS</h6>
                    <h2 class="mb-0 fw-bold">@ViewBag.PendingOrders</h2>
                    <i class="bi bi-clock-history position-absolute" style="font-size: 3rem; opacity: 0.3; right: 20px; top: 20px;"></i>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card text-white shadow h-100" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">
                <div class="card-body">
                    <h6 class="text-uppercase mb-1">TOTAL REVENUE</h6>
                    <h2 class="mb-0 fw-bold">₹@ViewBag.TotalRevenue.ToString("N0")</h2>
                    <i class="bi bi-currency-rupee position-absolute" style="font-size: 3rem; opacity: 0.3; right: 20px; top: 20px;"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Action Buttons -->
    <div class="card shadow mb-4">
        <div class="card-header bg-light">
            <h5 class="mb-0"><i class="bi bi-lightning-charge"></i> Quick Actions</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3 mb-3">
                    <a href="/Admin/Admin/Orders" class="btn btn-primary btn-lg w-100 py-3" style="text-decoration: none;">
                        <i class="bi bi-box-seam d-block mb-2" style="font-size: 2rem;"></i>
                        <span>View All Orders</span>
                    </a>
                </div>
                <div class="col-md-3 mb-3">
                    <a href="/Admin/Admin/Products" class="btn btn-success btn-lg w-100 py-3" style="text-decoration: none;">
                        <i class="bi bi-grid d-block mb-2" style="font-size: 2rem;"></i>
                        <span>Manage Products</span>
                    </a>
                </div>
                <div class="col-md-3 mb-3">
                    <a href="/Product/Index" class="btn btn-info btn-lg w-100 py-3 text-white" style="text-decoration: none;">
                        <i class="bi bi-shop d-block mb-2" style="font-size: 2rem;"></i>
                        <span>View Store</span>
                    </a>
                </div>
                <div class="col-md-3 mb-3">
                    <a href="/" class="btn btn-outline-secondary btn-lg w-100 py-3" style="text-decoration: none;">
                        <i class="bi bi-house d-block mb-2" style="font-size: 2rem;"></i>
                        <span>Homepage</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Orders -->
    <div class="card shadow">
        <div class="card-header text-white" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <h5 class="mb-0"><i class="bi bi-list-ul"></i> Recent Orders</h5>
        </div>
        <div class="card-body">
            @if (Model != null && Model.Any())
            {
                <div class="table-responsive">
                    <table class="table table-hover table-striped">
                        <thead class="table-dark">
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Items</th>
                                <th>Total</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var order in Model)
                            {
                                <tr>
                                    <td><strong>#@order.OrderId</strong></td>
                                    <td>@order.FullName</td>
                                    <td>@order.OrderDate.ToString("dd MMM yyyy")</td>
                                    <td>@order.OrderItems.Count</td>
                                    <td class="fw-bold text-primary">₹@order.TotalAmount.ToString("N0")</td>
                                    <td>
                                        <span class="badge @(order.OrderStatus == "Pending" ? "bg-warning" :
                                              order.OrderStatus == "Processing" ? "bg-info" :
                                              order.OrderStatus == "Shipped" ? "bg-primary" :
                                              order.OrderStatus == "Delivered" ? "bg-success" : "bg-danger")">
                                            @order.OrderStatus
                                        </span>
                                    </td>
                                    <td>
                                        <a href="/Admin/Admin/OrderDetails/@order.OrderId" class="btn btn-sm btn-outline-primary">
                                            <i class="bi bi-eye"></i> View
                                        </a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
            else
            {
                <div class="text-center text-muted py-5">
                    <i class="bi bi-inbox" style="font-size: 4rem;"></i>
                    <p class="mt-3">No orders yet. Orders will appear here once customers start purchasing.</p>
                </div>
            }
        </div>
    </div>
</div>